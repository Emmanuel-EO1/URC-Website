{% load static %}
{% load humanize %} 

<div class="card shadow-sm border-0 h-100" data-aos="fade-up" data-aos-delay="{% if forloop.counter0 %}{{ forloop.counter0.aos_delay }}{% endif %}">

    <div class="position-relative">
        <a href="{% url 'listing_detail' property.slug%}"><img src="{% if property.main_photo %}{{ property.main_photo.url }}{% else %}{% static 'img/default.jpg' %}{% endif %}" 
            class="card-img-top card-img-cover" alt="{{ property.title }}"></a>

        {% if property.is_featured %}
            <span class="badge text-white px-3 py-2 position-absolute top-0 start-0" 
                style="background-color: var(--color-accent-gold);">
                <i class="fas fa-star me-1"></i> Featured
            </span>
        {% endif %}
    </div>

    <div class="card-body d-flex flex-column">
        <h5 class="card-title fw-bold fs-6">{{ property.title }}</h5>
        <h6 class="card-subtitle mb-2 text-accent fw-bold">
            {{ property.currency }}{{ property.price|intcomma }}
        </h6>

        <div class="row row-cols-3 g-2 small text-muted mb-3">
            <div class="col"><i class="fas fa-bed me-1"></i> {{ property.bedrooms }} Beds</div>
            <div class="col"><i class="fas fa-bath me-1"></i> {{ property.bathrooms }} Baths</div>
            <!-- <div class="col"><i class="fas fa-square me-1"></i> {{ property.sqft|intcomma }} SqFt</div> -->
        </div>

        <p class="card-text small mb-3">
            <i class="fas fa-map-marker-alt me-1 text-accent"></i> {{ property.address }}, {{ property.city }}
        </p>

        <div class="mt-auto">
            <a href="{% url 'listing_detail' property.slug %}" class="btn btn-sm btn-accent w-100 fw-bold">
                View Details
            </a>
        </div>
    </div>
</div>